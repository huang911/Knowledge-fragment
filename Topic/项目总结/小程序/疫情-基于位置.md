### 1.地图服务

http://lbs.qq.com/console/mykey.html

通过这个地址获取服务，申请密钥，以及相关接口的配额申请；

（1）.通过小程序api, getLocation只能获取到用户所在的经纬度，需要将经纬度传给地图服务接口qqmapsdk.reverseGeocoder()（逆地址解析），来获取用户的详细地址。通过地址获取经纬度qqmapsdk.geocoder()(地址解析服务)

（2）授权时，新用户第一次拒绝授权之后，会再弹出一次授权框。业务逻辑是没授权会弹出需要去设置页的对话框。这样就会出现弹出两次对话框；暂时的解决办法是：加锁，如果弹过就不弹了。

### 2.map组件

(1).如果不传经纬度，地图无法显示。

### 3.图表功能

(1).暂时用的是wx-charts插件，优点是比较轻量级。缺点，可以自动化配置项有限，不能满足的需求。

（2）尝试用echarts来绘制图表，暂未展示出来。功能比较强大，支持自定义插件配置。体积相对较大。

### 4.自定义页面头部

因为页面有canvas绘图，canvas是原生图表，会穿透小程序标签，导致浮在上面。顶部的导航，可以采用cover-view和cover-image，可以盖住canvas图表，防止穿透。



